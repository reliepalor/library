<!DOCTYPE html>
<html>
<head>
    <title>Profile Picture Test</title>
    <style>
        .profile-container {
            position: relative;
            display: inline-block;
        }
        
        .profile-image {
            width: 128px;
            height: 128px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .edit-button {
            position: absolute;
            bottom: 0;
            right: 0;
            background: #3b82f6;
            color: white;
            border-radius: 50%;
            padding: 8px;
            cursor: pointer;
        }
        
        .confirmation-buttons {
            position: absolute;
            bottom: 0;
            right: 0;
            display: none;
        }
        
        .confirm-button {
            background: #10b981;
            color: white;
            border-radius: 50%;
            padding: 8px;
            cursor: pointer;
            margin-right: 4px;
        }
        
        .cancel-button {
            background: #ef4444;
            color: white;
            border-radius: 50%;
            padding: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Profile Picture Upload Test</h1>
    
    <div class="profile-container">
        <img id="profile-preview" src="https://via.placeholder.com/128" alt="Profile Picture" class="profile-image">
        
        <div id="upload-section" class="edit-button">
            <span>✏️</span>
            <input id="profile_picture" type="file" accept="image/*" style="display: none;">
        </div>
        
        <div id="confirm-section" class="confirmation-buttons">
            <button id="confirm-upload-btn" class="confirm-button">✓</button>
            <button id="cancel-upload-btn" class="cancel-button">✗</button>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('profile_picture');
            const previewImage = document.getElementById('profile-preview');
            const confirmButton = document.getElementById('confirm-upload-btn');
            const cancelButton = document.getElementById('cancel-upload-btn');
            const confirmSection = document.getElementById('confirm-section');
            const uploadSection = document.getElementById('upload-section');
            
            // Store the original image source
            let originalImageSrc = previewImage.src;
            
            // Click on edit button to trigger file input
            uploadSection.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(event) {
                        previewImage.src = event.target.result;
                    }
                    
                    reader.readAsDataURL(e.target.files[0]);
                    
                    // Show confirmation section
                    confirmSection.style.display = 'block';
                }
            });
            
            confirmButton.addEventListener('click', function() {
                alert('Profile picture would be updated!');
                // Hide confirm section
                confirmSection.style.display = 'none';
            });
            
            cancelButton.addEventListener('click', function() {
                // Reset file input
                fileInput.value = '';
                
                // Restore original image
                previewImage.src = originalImageSrc;
                
                // Hide confirm section
                confirmSection.style.display = 'none';
            });
        });
    </script>
</body>
</html>
